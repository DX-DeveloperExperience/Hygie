--- # Rules config file
rules:
  - name: Check last commit message on push
    event: Push
    field: commit.message
    regexp: (feat|fix|docs)\(?[a-z]*\)?:\s.*
    onSuccess:
      - callback: logger.info
        args:
          - 'pattern match'
          - 'good game'
      - callback: logger.info
        args:
          - 'another action is being executed'
          - 'commit will successed'
    onError:
      - callback: logger.warn
        args:
          - 'pattern does not match'
          - 'commit name must begin with : "feat|fix|docs"!'
      - callback: logger.warn
        args:
          - 'another action is being executed'
          - 'commit will fail'

  - name: Check branch name
    event: NewBranch
    field: branch.name
    regexp: (features|fix)\/.*
    onSuccess:
      - callback: logger.info
        args:
          - 'pattern match'
          - 'good game'
    onError:
      - callback: logger.warn
        args:
          - 'pattern does not match'
          - 'branch name must begin with : "features|fix"!'
      - callback: logger.warn
        args:
          - 'another action is being executed'
          - 'branch will be deleted'
